---
layout: post
title: 找出路径上的值之和等于目标值的路径
categories: 剑指Offer
description: 二叉树
keywords: 二叉树
---





#### 题目描述  
输入一颗二叉树和一个整数，打印出二叉树中结点值的和为输入整数的所有路径。路径定义为从树的根结点开始往下一直到叶结点所经过的结点形成一条路径。  
  
  
  
#### 思路  
利用回溯法，根据深度优先搜索的方法，当找到叶子节点时若路径之和不等于目标值，则回溯到父节点，依次类推直到找到符合条件的路径  
  
#### 源码  
```java
package exercise;
import java.util.ArrayList;
public class FindPath {
	
	ArrayList<ArrayList<Integer>> lists = new ArrayList<ArrayList<Integer>>();
	ArrayList<Integer> list=new ArrayList<>();
	int num=0;
	 public ArrayList<ArrayList<Integer>> findPath(TreeNode root, int target)  
	    {  
	  
	        if (root == null)  
	        {  
	            return lists;  
	        }  
	  
	        num += root.val;  
	        list.add(root.val);  
	        // 如果此时路径长度值刚好等于目标值，并且此时所在结点为叶子结点(路径定义为从树的根结点开始往下一直到叶结点所经过的结点形成一条路径),路径存入lists  
	        if (num == target && root.left == null && root.right == null)  
	        {  
	            // 存放路径结点值  
	            ArrayList<Integer> path = new ArrayList<Integer>();  
	            for (int i = 0; i < list.size(); i++)  
	            {  
	                path.add(list.get(i));  
	            }  
	            lists.add(path);  
	        }  
	        // 先遍历左子树  
	        if (num < target && root.left != null)  
	        {  
	            findPath(root.left, target);  
	        }  
	        // 左子树遍历结束，遍历右子树  
	        if (num < target && root.right != null)  
	        {  
	            findPath(root.right, target);  
	        }  
	        // 去掉这个结点值  
	        num -= root.val;  
	        // 删除该结点，返回到父结点  
	        list.remove(list.size() - 1);  
	        return lists;  
	    }  

	public static void main(String args[]) {
		FindPath t = new FindPath();
		

		TreeNode node5 = new TreeNode(5);
		TreeNode node7 = new TreeNode(7);
		TreeNode node9 = new TreeNode(9);

		TreeNode node11 = new TreeNode(11);
		TreeNode lchild = new TreeNode(6, node5, node7);
		TreeNode rchild = new TreeNode(10, node9, node11);
		TreeNode root = new TreeNode(8, lchild, rchild);

		ArrayList<ArrayList<Integer>> lists = new ArrayList<ArrayList<Integer>>();
		lists = t.findPath(root, 27);

		for (ArrayList<Integer> list : lists) {
			for (int m : list) {
				System.out.print(m + " ");
			}
		}

	}

}

```  
  
#### 运行结果  
![运行结果](/images/posts/jianzhiOffer/1t.png) 